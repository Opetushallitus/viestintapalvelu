<div ng-controller="EmailController">

    <form novalidate="novalidate" class="form-horizontal">
    
		<div class="control-group">		
		    <label class="control-label"></label>
		    <div class="controls">
	            	<h2>{{'email.header.viesti' | i18n}}</h2>
		    </div>		
		</div>
		
		<hr></hr>
		            
		<div class="control-group">
		    <label class="control-label">{{'email.label.vastaanottajat' | i18n}}</label>

		    <div class="controls pushDown" ng-hide="showTo">
            		{{emaildata.recipient.length}} {{'email.label.vastaanottajat.maara' | i18n}}
		    </div>	
		    
		    <div class="controls pushDown" ng-hide="showCnt">		    
		 		<div border="0" ng-repeat="header in emaildata.recipient">								    		 
	  					{{header.email}}
				</div>	
		    </div>						        
		</div>

		<div class="control-group">		
		    <label class="control-label">{{'email.label.lahettaja' | i18n}}</label>
		    <div class="controls">
 		    	<input type="text" size="40" ng-model="emaildata.email.from"  disabled/>
		    </div>		
		</div>
		
		<div class="control-group">		
		    <label class="control-label">{{'email.label.vastausosoite' | i18n}}</label>
		    <div class="controls">
 		    	<input type="text" size="40" ng-model="emaildata.email.replyTo"/>
		    </div>		
		</div>
		
		<div class="control-group">		
		    <label class="control-label">{{'email.label.otsikko' | i18n}}</label>
		    <div class="controls">
 		    	<input type="text" size="40" ng-model="emaildata.email.subject"/>
		    </div>		
		</div>

		<div class="control-group">		
		    <label class="control-label">{{'email.label.viesti' | i18n}}</label>
		    <div class="controls">
 		    	<textarea rows="10" cols="120" ng-model="emaildata.email.body"/>
		    </div>		
		</div>
    	
    	<div class="control-group">
		    <label class="control-label">{{'email.label.liitteet' | i18n}}</label>
		    <div class="controls pushDown">
 				<span ng-show="!emaildata.email.attachInfo.length">{{'email.liitteet.ei' | i18n}}</span> 
				<ul>					
 					<li ng-repeat="name in emaildata.email.attachInfo">{{name.fileName}}  						
						<a ng-click="remove($index)">{{'email.liitteet.poista' | i18n}}</a>												
					</li>
 				</ul> 
			</div>
		</div>
 
		<div class="control-group">		
		    <label class="control-label"></label>
			<!-- <div class="controls pagination-right"> -->
		    <div class="controls pagination-centered"> 
					<button ng-click="cancelEmail()" 	class="inline-operation btn btn-small">{{'email.button.peruuta' | i18n}}</button>
					<button ng-click="sendGroupEmail()" class="inline-operation btn btn-small">{{'email.button.laheta' | i18n}}</button>
		    </div>		
		</div>
				
    	<hr></hr>
    	
		<div class="control-group">		
		    <label class="control-label"></label>
		    <div class="controls">
	            	<h4>{{'email.header.liitteet' | i18n}}</h4>
		    </div>		
		</div>
    	<div class="control-group">	
			<label class="control-label">{{'email.label.liite.vaihe.1' | i18n}}</label>    			
		    <div class="controls">
				<div>
					<span>												 
						<div class="image-upload" >
						        <label for="attachment-input" class="inline-operation btn btn-small">
						            {{'email.button.liite.valitse' | i18n}}
						        </label>
								<input  id="attachment-input" 
										type="file" name="file"
										style="display:none;"
								       	data-url="/ryhmasahkoposti-service/email/addAttachment" 
								       	multiple upload>
						
						</div>
					</span>				
				</div>
				<span ng-show="!files.length">{{'email.liitteet.lataus.ei' | i18n}}</span>
				<ul>
					<li ng-repeat="file in files">{{file}}</li>
				</ul>
			</div>				
		</div>

    	<div class="control-group">	
			<label class="control-label">{{'email.label.liite.vaihe.2' | i18n}}</label>    			
		    <div class="controls">
				<span>
					<button type="submit" class="inline-operation btn btn-small" ng-click="upload()">{{'email.button.liite.liita' | i18n}}</button>				
				</span>
				<br>
				<div class="progress" ng-show="percentage">
				    <div class="bar" style="width: {{percentage}}%;"></div>
				</div>								
			</div>
		</div>
    
		<hr></hr>
    
    </form>
</div>
